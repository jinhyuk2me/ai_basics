## TL;DR
- 측도론은 확률을 엄밀히 정의하기 위한 $\sigma$-대수, 측도, 르베스그 적분, 수렴 정리(지배 수렴, 단조 수렴 등)를 제공한다.
- Variational Inference, Optimal Transport, Diffusion, GAN 이론에서 확률 측도 공간을 다루기 위해 반드시 필요하다.
- 간단한 $\sigma$-대수와 측도를 파이썬으로 구성하고, 르베스그 적분을 단순 함수 근사로 계산하면 개념을 직관적으로 이해할 수 있다.

## 언제 쓰나
- 확률 과정/강화학습/생성 모델의 수렴성을 증명하거나, KL/Wasserstein 거리 등을 정의할 때
- Variational Autoencoder, Diffusion, Measure-theoretic GANs 연구에서 엄밀한 사후 분포/밀도 개념이 필요할 때
- Optimal Transport, Monge-Kantorovich 문제, Sinkhorn algorithm 등에서 확률 측도를 다룰 때
- 일반화 이론(covering number, VC dimension)과 PAC-Bayes bounds를 명확히 기술할 때

## 주요 개념
| 개념 | 정의/설명 | 실습 아이디어 |
| --- | --- | --- |
| $\sigma$-대수 | 공집합/전체집합 포함, 여집합/가산 합집합에 닫힌 집합 족 | 유한 집합에서 직접 구현 |
| 측도 $\mu$ | $\mu: \mathcal{F} \to [0,\infty]$, $\sigma$-가산성 | 기본 확률 공간 정의 |
| 확률 공간 | $(\Omega, \mathcal{F}, \mathbb{P})$ | 주사위/동전 예시 |
| 르베스그 적분 | 단순 함수 극한으로 정의되는 적분 | 수치 근사 실습 |
| 지배 수렴 정리 | $|f_n| \le g$, $f_n \to f$ 일 때 $\int f_n \to \int f$ | Monte Carlo 예 |
| 단조 수렴 정리 | $f_n \uparrow f$이면 $\int f_n \uparrow \int f$ | 단계 함수 예 |
| 확률 변수 | 측도공간에서 실수값 함수, 가측성 필요 | $\sigma$-대수 vs. Borel |
| 분포 | 확률 변수가 induce 하는 측도 | CDF, PDF 연결 |

## 실습 예제
### 1. 유한 $\sigma$-대수와 확률 측도 정의
```python
Omega = {'HH', 'HT', 'TH', 'TT'}
F = [set(), Omega]
# 닫힌 조건을 만족하도록 생성
a = {'HH', 'HT'}
b = {'HH', 'TH'}
F.extend([a, Omega - a, b, Omega - b])
F = list({frozenset(s) for s in F})  # 중복 제거
P = {frozenset(s): len(s)/len(Omega) for s in F}  # 균등 측도
print('sigma-algebra size:', len(F))
print('P(HH or HT)=', P[frozenset({'HH', 'HT'})])
```
- 유한 샘플 공간에서는 $
abla$-대수가 $2^n$의 부분집합 중 닫힌 부분집합으로 구성된다.

### 2. 르베스그 적분을 단순 함수로 근사
```python
import math

# f(t) = t * sin(t) over [0, 1]
intervals = 1000
dt = 1.0 / intervals
integral = 0.0
for i in range(intervals):
    t = (i + 0.5) * dt
    integral += t * math.sin(t) * dt
print('approx integral ≈', integral)
```
- 르베스그 적분은 단순함수(단위 interval)들의 합으로 정의되며, 위 코드는 Riemann 근사와 동일한 방식이지만 해설에서 측도 기반 표현으로 연결할 수 있다.

### 3. 지배 수렴 정리(기본 예)
```python
import math

# f_n(t) = t^n on [0,1], g(t)=1 dominates
n_values = [1,2,5,10,50]
for n in n_values:
    dt = 1.0 / 10000
    integral = sum((i*dt)**n * dt for i in range(10001))
    print(n, integral)
```
- $f_n(t)=t^n$은 $[0,1)$에서 0으로 수렴하고, $g(t)=1$이 지배하므로 $\sigma$-수렴 정리를 수치로 확인할 수 있다.

### 4. Probability measure로서의 기대값 계산
```python
outcomes = [0, 1, 2]
probs = [0.2, 0.5, 0.3]
expected = sum(o * p for o, p in zip(outcomes, probs))
print('E[X]=', expected)
```
- 측도 이론에서는 $\mathbb{E}[X]=\int x d\mathbb{P}(x)$로 정의되며, 이산 사례를 통해 intuition을 적립한다.

## 실수 주의
- $\sigma$-대수와 Borel $\sigma$-대수를 혼동하면 가측성 조건을 놓쳐 확률 변수 정의가 잘못된다.
- 르베스그 적분의 positive/negative part 분해를 생략하면 절대수렴하지 않는 함수에 대해 적분을 잘못 계산할 수 있다.
- 지배 수렴 정리를 적용할 때 지배 함수 $g$가 integrable인지 확인하지 않으면 결론이 성립하지 않는다.
- 연속 확률 변수의 PDF를 다룰 때, 측도 관점에서는 $
abla$-대수에 따라 적분 영역이 달라질 수 있음을 주의해야 한다.

## 관련 노트
- [[Math/Probability/2. 확률 기초]]
- [[Math/Probability/3. 통계적 추론]]
- [[Math/Probability/6. 확률 과정]]
- [[Math/Math_확장_계획]]
