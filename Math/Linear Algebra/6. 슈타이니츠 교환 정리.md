## TL;DR
- Steinitz 교환 정리는 "독립적인 벡터 묶음"과 "전체 공간을 덮는 벡터 묶음"을 서로 바꾸어 가며도 공간 전체를 표현할 수 있다는 원리다.
- 덕분에 벡터 공간의 기저는 항상 같은 개수의 벡터를 가진다는 사실을 쉽게 이해할 수 있다.

## 개념 준비
- **벡터 공간**: 벡터를 더하거나 스칼라를 곱해도 다시 같은 공간 안에 머무르는 집합.
- **선형 독립**: 서로 겹치지 않는 방향을 가진 벡터들의 모임. 하나를 다른 것들의 조합으로 만들 수 없다.
- **생성 집합(Span 집합)**: 이 벡터들을 적당히 섞으면(선형 결합) 공간 안의 모든 벡터를 만들 수 있는 묶음.

## 직관적인 비유
도서관에서 여러 종류의 책장을 생각해 보자.
- 책장 A에는 어떤 주제든 한 권씩은 반드시 들어 있다. → 공간 전체를 덮는 생성 집합.
- 책장 B에는 완전히 다른 주제의 책들만 모여 있다. → 서로 겹치지 않는 선형 독립 집합.
Steinitz 교환 정리는 "책장 B의 책들을 하나씩 책장 A의 책과 바꿔 꽂아도, 여전히 모든 주제를 다 커버할 수 있다"라고 말한다. 그러려면 책장 A가 책장 B보다 더 많은 책을 가지고 있어야 한다.

## 정리 설명
**정리 (Steinitz 교환)**  
벡터 공간 $V$에서 다음 두 집합이 있다고 하자.
1. 선형 독립 집합 $U = \{\mathbf{u}_1, \ldots, \mathbf{u}_m\}$
2. $V$ 전체를 생성하는 집합 $W = \{\mathbf{v}_1, \ldots, \mathbf{v}_n\}$

그러면 다음이 성립한다.
- 항상 $m \leq n$이다. (독립 벡터의 수는 생성 집합의 크기를 넘을 수 없다.)
- $W$의 원소 중 일부를 $U$의 원소로 바꿔 끼워 넣어도 $V$를 여전히 생성할 수 있다.  
  즉, $\mathbf{v}_1$ 대신 $\mathbf{u}_1$을, 그다음 $\mathbf{v}_2$ 대신 $\mathbf{u}_2$를 넣는 식으로 진행하면  
  $$
  \{\mathbf{u}_1, \ldots, \mathbf{u}_m, \mathbf{v}_{m+1}, \ldots, \mathbf{v}_n\}
  $$
  역시 $V$를 생성한다.

## 단계별로 따라가기
1. $W$가 $V$ 전체를 만든다는 뜻은 모든 벡터가 $W$의 벡터들을 섞어서 표현된다는 의미다.
2. $U$의 첫 번째 벡터 $\mathbf{u}_1$도 예외가 아니므로 $W$의 벡터들 조합으로 쓸 수 있다.
3. 그 표현에서 계수가 0이 아닌 $\mathbf{v}_j$ 하나를 골라 $\mathbf{u}_1$으로 바꿔 끼운다.  
   이렇게 해도 여전히 나머지 벡터들이 $V$를 덮는다는 것을 확인할 수 있다.
4. 다음에는 $\mathbf{u}_2$를 같은 방식으로 끼워 넣는다. 필요한 경우 이미 바꿔 넣은 $\mathbf{u}_1$을 제외한 $\mathbf{v}$들을 활용한다.
5. 이 과정을 $\mathbf{u}_m$까지 반복하면, $W$에서 $m$개의 벡터를 $U$의 벡터들과 바꾸어도 전체 공간을 표현할 수 있다.
6. 만약 $m$이 $n$보다 컸다면 바꿔 끼울 자리가 부족해져 모순이 생기므로, 반드시 $m \leq n$이다.

## 쉬운 예시
### 예시 1: 3차원 공간에서 교환하기
벡터 공간 $V = \mathbb{R}^3$을 생각하자.
- 생성 집합 $W = \{(1,0,0), (0,1,0), (1,1,1)\}$  
  → 이 세 벡터를 섞으면 $(x,y,z)$를 항상 표현할 수 있다. 예를 들어 $(2,3,4) = 2(1,0,0) + 3(0,1,0) + (4-2-3)(1,1,1)$.
- 독립 집합 $U = \{(1,1,0), (0,1,1)\}$  
  → 두 벡터는 서로 다른 방향을 가리키므로 선형 독립이다. 즉, $a(1,1,0) + b(0,1,1) = (0,0,0)$이면 $a=b=0$이다.

교환 과정을 단계별로 보자.
1. $\mathbf{u}_1 = (1,1,0)$을 $W$의 벡터로 표현하면  
   $(1,1,0) = 1\cdot(1,0,0) + 1\cdot(0,1,0) + 0\cdot(1,1,1)$.
2. 계수가 0이 아닌 $\mathbf{v}_1 = (1,0,0)$을 $\mathbf{u}_1$로 바꿔 새 집합 $\{(1,1,0), (0,1,0), (1,1,1)\}$을 만든다.
3. 이 집합이 여전히 공간을 생성하는지 확인하려면 임의의 $(x,y,z)$를 표현해 보자.  
   $$
   x(1,1,0) + (y-x)(0,1,0) + (z-y)(1,1,1) = (x, y, z)
   $$
   필요한 계수 $x, y-x, z-y$는 항상 실수이므로 생성 조건을 만족한다.
4. 이제 $\mathbf{u}_2 = (0,1,1)$을 새 집합 벡터들의 조합으로 쓴다.  
   $(0,1,1) = 0\cdot(1,1,0) + 1\cdot(0,1,0) + 1\cdot(1,1,1)$.
5. 여기서 계수가 0이 아닌 $(0,1,0)$을 $\mathbf{u}_2$로 대체하면 $\{(1,1,0), (0,1,1), (1,1,1)\}$이 된다.
6. 다시 한 번 생성 여부를 확인하면  
   $$
   (x,y,z) = x(1,1,0) + (y-x)(0,1,1) + (z-y)(1,1,1)
   $$
   으로 표현할 수 있어 전체 공간을 덮는다.
7. 결과적으로 독립 벡터 둘($m=2$)은 생성 집합 셋($n=3$)보다 많을 수 없다는 사실이 자연스럽게 드러난다.

### 예시 2: 2차원 평면에서의 교환
이번에는 $V = \mathbb{R}^2$을 생각하자.
- 생성 집합 $W = \{(1,0), (1,1)\}$  
  → 두 벡터는 서로 다른 방향을 가지며, $(a,b) = (a-b)(1,0) + b(1,1)$로 항상 표현 가능하다.
- 독립 집합 $U = \{(2,1)\}$  
  → 하나의 벡터만 있어도 스스로와 스칼라 배수로는 중복이 생기지 않으므로 선형 독립이다.

교환 절차:
1. $\mathbf{u}_1 = (2,1)$을 $W$의 벡터로 표현하면  
   $(2,1) = 1\cdot(1,0) + 1\cdot(1,1)$.
2. 계수가 0이 아닌 $(1,0)$을 $\mathbf{u}_1$로 교체하면 새 집합은 $\{(2,1), (1,1)\}$이다.
3. 이 집합이 평면 전체를 덮는지 확인하려면 임의의 $(x,y)$에 대해 계수를 찾아보자.  
   $$
   (x,y) = y(2,1) + (x-2y)(1,1)
   $$
   이때 필요한 계수 $y$와 $x-2y$는 항상 실수이므로 문제없이 표현 가능하다.
4. 따라서 독립 집합의 크기 $m=1$은 생성 집합의 크기 $n=2$보다 작거나 같고, 교환 후에도 $\mathbb{R}^2$ 전체를 생성한다.

이 예시는 벡터 수가 적어도 교환 원리가 동일하게 작동함을 보여 준다.

## 왜 중요한가?
- **차원은 일정하다**: 어떤 기저를 고르더라도 벡터 개수가 같아야 함을 이 정리가 보장한다.
- **기저 생성/축소**: 독립 벡터를 더해서 기저를 만들거나, 너무 큰 생성 집합을 기저로 줄이는 알고리즘의 핵심 논리다.
- **선형대수 알고리즘의 기반**: 가우스 소거법에서 피벗을 교환하거나, 신경망 가중치 행렬의 랭크를 분석할 때도 같은 사고방식이 쓰인다.

## 관련 노트
- [[벡터 공간과 기저]]
- [[행렬과 선형 변환]]
- [[선형대수 핵심 개요]]
